import{u as w,a as y,r as s,j as e,L as k}from"./index-DbTTv7ag.js";function S(){const{register:g}=w(),h=y(),[n,p]=s.useState(""),[l,b]=s.useState(""),[i,v]=s.useState(""),[c,f]=s.useState("kid"),[m,j]=s.useState(""),[x,a]=s.useState(""),[o,u]=s.useState(!1),N=async t=>{if(t.preventDefault(),a(""),!n.trim()){a("Username is required");return}if(!l){a("Password is required");return}if(l.length<6){a("Password must be at least 6 characters");return}if(!i.trim()){a("Display name is required");return}u(!0);try{await g(n.trim(),l,i.trim(),c,m.trim()||void 0),h("/")}catch(d){a((d==null?void 0:d.message)||"Registration failed. Please try again.")}finally{u(!1)}},r="w-full bg-navy-light border-2 border-[#2a2a4a] text-cream p-3 rounded font-body text-lg placeholder:text-cream/30 focus:border-gold focus:outline-none transition-colors";return e.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-10 bg-navy",children:[e.jsx("div",{className:"pointer-events-none fixed inset-0 opacity-[0.03]",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.1) 2px, rgba(255,255,255,0.1) 4px)"}}),e.jsxs("form",{onSubmit:N,className:"game-panel w-full max-w-md p-8 relative z-10",children:[e.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 bg-gold"}),e.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-gold"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-3 h-3 bg-gold"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-gold"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"font-heading text-gold text-lg sm:text-xl leading-relaxed mb-3",children:"Join the Guild"}),e.jsx("div",{className:"mt-2 mx-auto w-32 h-[2px] bg-gradient-to-r from-transparent via-gold/50 to-transparent"})]}),x&&e.jsx("div",{className:"mb-5 p-3 rounded border-2 border-crimson/40 bg-crimson/10 text-crimson text-base text-center",children:x}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gold/80 text-sm font-heading mb-2 tracking-wide",children:"Username"}),e.jsx("input",{type:"text",value:n,onChange:t=>p(t.target.value),placeholder:"hero_name",autoComplete:"username",className:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gold/80 text-sm font-heading mb-2 tracking-wide",children:"Password"}),e.jsx("input",{type:"password",value:l,onChange:t=>b(t.target.value),placeholder:"min 6 characters",autoComplete:"new-password",className:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gold/80 text-sm font-heading mb-2 tracking-wide",children:"Display Name"}),e.jsx("input",{type:"text",value:i,onChange:t=>v(t.target.value),placeholder:"Sir Lancelot",autoComplete:"off",className:r}),e.jsx("p",{className:"text-cream/30 text-sm mt-1",children:"What other guild members will see"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gold/80 text-sm font-heading mb-2 tracking-wide",children:"Role"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:c,onChange:t=>f(t.target.value),className:`${r} appearance-none cursor-pointer pr-10`,children:[e.jsx("option",{value:"kid",children:"Adventurer (Kid)"}),e.jsx("option",{value:"parent",children:"Guild Leader (Parent)"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-gold/60",children:e.jsx("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M4 6l4 4 4-4",fill:"none",stroke:"currentColor",strokeWidth:"2"})})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gold/80 text-sm font-heading mb-2 tracking-wide",children:"Invite Code"}),e.jsx("input",{type:"text",value:m,onChange:t=>j(t.target.value),placeholder:"GUILD-XXXX",autoComplete:"off",className:r}),e.jsx("p",{className:"text-cream/30 text-sm mt-1",children:"Required unless you're the first adventurer"})]}),e.jsx("button",{type:"submit",disabled:o,className:`game-btn game-btn-gold w-full ${o?"opacity-60 cursor-wait":""}`,children:o?"Creating...":"Join Guild"}),e.jsxs("p",{className:"text-center mt-6 text-cream/50 text-base",children:["Already have an account?"," ",e.jsx(k,{to:"/login",className:"text-gold hover:text-gold/80 underline underline-offset-4",children:"Login"})]})]})]})}export{S as default};

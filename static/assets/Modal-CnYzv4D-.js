import{r,j as t,X as m}from"./index-CgOd0SBs.js";import{A as y}from"./index-Dkb11lla.js";import{m as d}from"./proxy-Dq3ACGF8.js";const b={hidden:{opacity:0},visible:{opacity:1}},u={hidden:{opacity:0,scale:.95,y:10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:30,stiffness:400}},exit:{opacity:0,scale:.95,y:10,transition:{duration:.12}}};function h({isOpen:o,onClose:s,title:l,children:c,actions:n}){const a=r.useCallback(e=>{e.key==="Escape"&&s()},[s]);return r.useEffect(()=>{if(!o)return;document.addEventListener("keydown",a);const e=document.body.style.position==="fixed",i=e?-parseInt(document.body.style.top||"0",10):window.scrollY;return e||(document.body.style.position="fixed",document.body.style.top=`-${i}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.overflow="",window.scrollTo(0,i)}},[o,a]),t.jsx(y,{children:o&&t.jsxs(d.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",variants:b,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.15},children:[t.jsx(d.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:s}),t.jsxs(d.div,{className:"game-panel relative z-10 w-full max-w-md max-h-[85vh] overflow-y-auto overscroll-contain p-6",variants:u,initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"flex items-start justify-between gap-3 mb-5",children:[l&&t.jsx("h2",{className:"font-heading text-cream text-lg font-bold",children:l}),t.jsx("button",{onClick:s,className:"p-1.5 rounded-lg hover:bg-surface-raised transition-colors text-muted hover:text-cream flex-shrink-0","aria-label":"Close",children:t.jsx(m,{size:18})})]}),t.jsx("div",{className:"text-cream text-sm",children:c}),n&&n.length>0&&t.jsx("div",{className:"flex items-center justify-end gap-3 mt-6 pt-4 border-t border-border",children:n.map((e,i)=>t.jsx("button",{onClick:e.onClick,className:e.className||"game-btn game-btn-blue",disabled:e.disabled,children:e.label},i))})]})]})})}export{h as M};
